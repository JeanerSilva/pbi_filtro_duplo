var filtroConjugado123456;(()=>{"use strict";var e={111:(e,t,i)=>{i.r(t)},473:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VisualSettings=void 0;var i=function(){function e(){this.behavior_selectionMode=!0,this.behavior_forceSelection=!0,this.formatting_fontSize=12,this.formatting_itemPadding=4}return e.parse=function(t){var i=t&&t.metadata&&(t.metadata.objects||{}),s=new e;return s.behavior_selectionMode=o(i,"behavior","selectionMode",!0),s.behavior_forceSelection=o(i,"behavior","forceSelection",!0),s.formatting_fontSize=n(i,"formatting","fontSize",12),s.formatting_itemPadding=n(i,"formatting","itemPadding",4),s},e}();function s(e,t){return e&&e[t]||{}}function n(e,t,i,n){var o=s(e,t)[i];return"number"!=typeof o||isNaN(o)?n:o}function o(e,t,i,n){var o=s(e,t)[i];return"boolean"==typeof o?o:n}t.VisualSettings=i},848:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Visual=void 0,i(111);var s=i(473),n=function(){function e(e){var t=this;this.settings=new s.VisualSettings,this.items=[],this.suppressNextSelectCallback=!1,this.externalKeys=new Set,this.didInitialForce=!1,this.itemsSignature="",this.maxItemCount=0,this.lastItemCount=0,this.filteredLock=!1,this.root=document.createElement("div"),this.root.className="filtro-conjugado",this.listContainer=document.createElement("div"),this.listContainer.className="list-container",this.list=document.createElement("ul"),this.list.className="list",this.listContainer.appendChild(this.list),this.root.appendChild(this.listContainer),this.host={persistProperties:function(){}},this.selectionManager={select:function(){return Promise.resolve([])},clear:function(){return Promise.resolve()},registerOnSelectCallback:function(){}},e&&(this.host=e.host,this.selectionManager=this.host.createSelectionManager?this.host.createSelectionManager():this.selectionManager,e.element.appendChild(this.root),this.selectionManager.registerOnSelectCallback(function(e){if(t.suppressNextSelectCallback)t.suppressNextSelectCallback=!1;else{var i=e||[];t.applyExternalSelection(i)}}))}return e.prototype.update=function(e){var t,i,n=e.dataViews&&e.dataViews[0];n&&(this.settings=s.VisualSettings.parse(n));var o=null;if(n&&this.hasDataViewCategories(n)&&(o=this.rebuildItemsWithLock(n)).changed){var a=this.items.map(function(e){return e.label}).join("|");a!==this.itemsSignature&&(this.itemsSignature=a,this.didInitialForce=!1)}var l=this.selectionManager,r="function"==typeof l.hasSelection?!!l.hasSelection():this.externalKeys.size>0;if(o){var c=o.count;this.maxItemCount<c&&(this.maxItemCount=c);var h=this.items.some(function(e){return e.selected});c>0&&this.maxItemCount>0&&(c<this.maxItemCount?this.filteredLock=!0:c!==this.maxItemCount||r||h||(this.filteredLock=!1)),this.lastItemCount=c}if(this.settings.behavior_selectionMode&&this.settings.behavior_forceSelection&&this.items.length>0&&!r&&!this.didInitialForce&&(this.filteredLock||this.maxItemCount===this.items.length)){var d=null===(i=(t=this.items[0].selectionId).getKey)||void 0===i?void 0:i.call(t);if(!this.externalKeys.has(d)){for(var u=0,m=this.items;u<m.length;u++)m[u].selected=!1;this.items[0].selected=!0,this.suppressNextSelectCallback=!0,this.selectionManager.select(this.items[0].selectionId,!1)}this.didInitialForce=!0}this.render()},e.prototype.hasDataViewCategories=function(e){var t,i,s,n,o=null===(i=null===(t=null==e?void 0:e.categorical)||void 0===t?void 0:t.categories)||void 0===i?void 0:i[0],a=null!==(n=null===(s=null==o?void 0:o.values)||void 0===s?void 0:s.length)&&void 0!==n?n:0;return!!o&&a>0},e.prototype.rebuildItemsWithLock=function(e){var t,i=this,s=e.categorical,n=null===(t=null==s?void 0:s.categories)||void 0===t?void 0:t[0],o=(null==n?void 0:n.values)||[],a=o.length;if(!n||0===a)return{changed:!1,count:0};if(this.filteredLock&&a>this.lastItemCount)return{changed:!1,count:this.lastItemCount};for(var l=[],r=0;r<a;r++){var c=o[r],h=this.host.createSelectionIdBuilder().withCategory(n,r).createSelectionId();l.push({label:null==c?"":String(c),selectionId:h,selected:!1})}var d=l.length!==this.items.length||l.some(function(e,t){var s;return(null===(s=i.items[t])||void 0===s?void 0:s.label)!==e.label});return d&&(this.items=l),{changed:d,count:a}},e.prototype.render=function(){for(var e=this;this.list.firstChild;)this.list.removeChild(this.list.firstChild);if(0===this.items.length){var t=document.createElement("div");return t.className="empty",t.textContent="Sem itens",void this.list.appendChild(t)}for(var i=function(t){var i=document.createElement("li");i.className="item"+(t.selected?" selected":""),i.textContent=t.label,i.style.fontSize="".concat(s.settings.formatting_fontSize,"px"),i.style.paddingTop="".concat(s.settings.formatting_itemPadding,"px"),i.style.paddingBottom="".concat(s.settings.formatting_itemPadding,"px"),i.addEventListener("mousedown",function(e){0===e.button&&e.preventDefault()}),i.addEventListener("click",function(i){if(0===i.button){var s=i.ctrlKey||i.metaKey;e.onItemClick(t,s)}}),s.list.appendChild(i)},s=this,n=0,o=this.items;n<o.length;n++)i(o[n])},e.prototype.onItemClick=function(e,t){var i=!this.settings.behavior_selectionMode;if(i)e.selected=!e.selected;else{for(var s=0,n=this.items;s<n.length;s++)n[s].selected=!1;e.selected=!0}if(this.updateListSelectionClasses(),this.filteredLock=!0,this.didInitialForce=!0,this.suppressNextSelectCallback=!0,i){var o=this.items.filter(function(e){return e.selected}).map(function(e){return e.selectionId});o.length>0?this.selectionManager.select(o,!0):this.selectionManager.clear()}else this.selectionManager.select(e.selectionId,!1)},e.prototype.updateListSelectionClasses=function(){for(var e=Array.prototype.slice.call(this.list.children),t=0;t<e.length;t++){var i=e[t];if(i.classList.contains("item")){var s=this.items[t];s&&i.classList.toggle("selected",!!s.selected)}}},e.prototype.applyExternalSelection=function(e){var t,i,s=new Set((e||[]).map(function(e){var t;return null===(t=e.getKey)||void 0===t?void 0:t.call(e)}));if(this.externalKeys=s,0!==this.items.length){var n=!1;if(e&&0!==e.length){for(var o=0,a=this.items;o<a.length;o++){h=a[o];var l=s.has(null===(i=(t=h.selectionId).getKey)||void 0===i?void 0:i.call(t));h.selected!==l&&(h.selected=l,n=!0)}this.items.length<this.maxItemCount&&(this.filteredLock=!0)}else for(var r=0,c=this.items;r<c.length;r++){var h;(h=c[r]).selected&&(h.selected=!1,n=!0)}n&&this.updateListSelectionClasses()}},e.prototype.enumerateObjectInstances=function(e){var t=[];return"behavior"===e.objectName&&t.push({objectName:"behavior",properties:{selectionMode:this.settings.behavior_selectionMode,forceSelection:this.settings.behavior_forceSelection},selector:{}}),"formatting"===e.objectName&&t.push({objectName:"formatting",properties:{fontSize:this.settings.formatting_fontSize,itemPadding:this.settings.formatting_itemPadding},selector:{}}),t},e}();t.Visual=n}},t={};function i(s){var n=t[s];if(void 0!==n)return n.exports;var o=t[s]={exports:{}};return e[s](o,o.exports,i),o.exports}i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};(()=>{var e=s;Object.defineProperty(e,"__esModule",{value:!0});var t=i(848),n=window.powerbi,o={name:"filtroConjugado123456",displayName:"Filtro Conjugado",class:"Visual",apiVersion:"5.11.0",create:function(e){if(t.Visual)return new t.Visual(e);throw"Visual instance not found"},createModalDialog:function(e,t,i){var s=globalThis.dialogRegistry;e in s&&new s[e](t,i)},custom:!0};void 0!==n&&(n.visuals=n.visuals||{},n.visuals.plugins=n.visuals.plugins||{},n.visuals.plugins.filtroConjugado123456=o),e.default=o})(),filtroConjugado123456=s})();