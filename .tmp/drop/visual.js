var filtroConjugado123456;(()=>{"use strict";var e={111:(e,t,i)=>{i.r(t)},473:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VisualSettings=void 0;var i=function(){function e(){this.behavior_selectionMode=!0,this.behavior_forceSelection=!0,this.formatting_fontSize=12,this.formatting_itemPadding=4}return e.parse=function(t){var i=t&&t.metadata&&(t.metadata.objects||{}),s=new e;return s.behavior_selectionMode=o(i,"behavior","selectionMode",!0),s.behavior_forceSelection=o(i,"behavior","forceSelection",!0),s.formatting_fontSize=n(i,"formatting","fontSize",12),s.formatting_itemPadding=n(i,"formatting","itemPadding",4),s},e}();function s(e,t){return e&&e[t]||{}}function n(e,t,i,n){var o=s(e,t)[i];return"number"!=typeof o||isNaN(o)?n:o}function o(e,t,i,n){var o=s(e,t)[i];return"boolean"==typeof o?o:n}t.VisualSettings=i},848:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Visual=void 0,i(111);var s=i(473),n=function(){function e(e){var t=this;this.settings=new s.VisualSettings,this.items=[],this.suppressNextSelectCallback=!1,this.didInitialForce=!1,this.lastItemCount=0,this.lastCategoryQueryName=null,this.root=document.createElement("div"),this.root.className="filtro-conjugado",this.listContainer=document.createElement("div"),this.listContainer.className="list-container",this.list=document.createElement("ul"),this.list.className="list",this.listContainer.appendChild(this.list),this.root.appendChild(this.listContainer),this.host={persistProperties:function(){}},this.selectionManager={select:function(){return Promise.resolve([])},clear:function(){return Promise.resolve()},registerOnSelectCallback:function(){}},e&&(this.host=e.host,this.selectionManager=this.host.createSelectionManager?this.host.createSelectionManager():this.selectionManager,e.element.appendChild(this.root),this.selectionManager.registerOnSelectCallback(function(e){t.suppressNextSelectCallback?t.suppressNextSelectCallback=!1:t.updateListSelectionClasses()}))}return e.prototype.update=function(e){var t,i,n,o=e.dataViews&&e.dataViews[0];o&&(this.settings=s.VisualSettings.parse(o));var a=(null===(i=null===(t=null==o?void 0:o.categorical)||void 0===t?void 0:t.categories)||void 0===i?void 0:i[0])||null,l=(null===(n=null==a?void 0:a.source)||void 0===n?void 0:n.queryName)||null;if(!a)return this.items=[],this.didInitialForce=!1,this.lastItemCount=0,this.lastCategoryQueryName=null,this.suppressNextSelectCallback=!0,this.selectionManager.clear(),void this.render();this.lastCategoryQueryName&&l&&l!==this.lastCategoryQueryName&&(this.items=[],this.didInitialForce=!1,this.lastItemCount=0),this.lastCategoryQueryName=l;var r=this.rebuildItems(o,a),c=this.selectionManager,h="function"==typeof c.hasSelection&&!!c.hasSelection(),d=this.settings.behavior_selectionMode&&this.settings.behavior_forceSelection&&this.items.length>0,u=0===this.lastItemCount||r.count<=this.lastItemCount;if(d&&!h&&!this.didInitialForce&&u){for(var m=!0,g=0;g<this.items.length;g++)if(this.items[g].selected){m=!1;break}if(m){for(g=0;g<this.items.length;g++)this.items[g].selected=!1;this.items[0].selected=!0,this.suppressNextSelectCallback=!0,this.selectionManager.select(this.items[0].selectionId,!1),this.didInitialForce=!0}}this.lastItemCount=r.count,this.render()},e.prototype.rebuildItems=function(e,t){var i;if(!e.categorical||!t)return{changed:!1,count:0};for(var s=t.values||[],n=s.length,o=new Array(n),a=0;a<n;a++){var l=s[a],r=this.host.createSelectionIdBuilder().withCategory(t,a).createSelectionId();o[a]={label:null==l?"":String(l),selectionId:r,selected:!1}}if(this.items.length>0){var c=new Set;for(a=0;a<this.items.length;a++)this.items[a].selected&&c.add(this.items[a].label);if(c.size>0)for(a=0;a<o.length;a++)c.has(o[a].label)&&(o[a].selected=!0)}var h=o.length!==this.items.length;if(!h)for(a=0;a<o.length;a++)if((null===(i=this.items[a])||void 0===i?void 0:i.label)!==o[a].label){h=!0;break}return h&&(this.items=o),{changed:h,count:n}},e.prototype.render=function(){for(var e=this;this.list.firstChild;)this.list.removeChild(this.list.firstChild);if(0===this.items.length){var t=document.createElement("div");return t.className="empty",t.textContent="Sem itens",void this.list.appendChild(t)}for(var i=this.settings.behavior_selectionMode,s=function(t){var s=n.items[t],o=document.createElement("li");o.className="item"+(s.selected?" selected":""),o.style.fontSize="".concat(n.settings.formatting_fontSize,"px"),o.style.paddingTop="".concat(n.settings.formatting_itemPadding,"px"),o.style.paddingBottom="".concat(n.settings.formatting_itemPadding,"px");var a=document.createElement("input");a.type=i?"radio":"checkbox",i&&(a.name="visual-selection-group"),a.checked=s.selected,a.addEventListener("click",function(t){t.stopPropagation(),e.onItemClick(s,!i&&t.ctrlKey)});var l=document.createElement("span");l.textContent=s.label,l.style.marginLeft="4px",l.style.wordBreak="break-word",o.appendChild(a),o.appendChild(l),o.addEventListener("mousedown",function(e){0===e.button&&e.preventDefault()}),o.addEventListener("click",function(t){0===t.button&&e.onItemClick(s,!i&&t.ctrlKey)}),n.list.appendChild(o)},n=this,o=0;o<this.items.length;o++)s(o)},e.prototype.onItemClick=function(e,t){var i=this.settings.behavior_selectionMode,s=!i;if(!(i&&this.settings.behavior_forceSelection&&e.selected)){if(s)e.selected=!e.selected;else{for(var n=0;n<this.items.length;n++)this.items[n].selected=!1;e.selected=!0}if(this.updateListSelectionClasses(),this.didInitialForce=!0,this.suppressNextSelectCallback=!0,s){var o=[];for(n=0;n<this.items.length;n++)this.items[n].selected&&o.push(this.items[n].selectionId);o.length>0?this.selectionManager.select(o,!0):this.selectionManager.clear()}else this.selectionManager.select(e.selectionId,!1)}},e.prototype.updateListSelectionClasses=function(){for(var e=Array.prototype.slice.call(this.list.children),t=0;t<e.length;t++){var i=e[t];if(i.classList.contains("item")){var s=this.items[t];if(s){i.classList.toggle("selected",!!s.selected);var n=i.querySelector("input");n&&(n.checked=!!s.selected)}}}},e.prototype.enumerateObjectInstances=function(e){var t=[];return"behavior"===e.objectName&&t.push({objectName:"behavior",properties:{selectionMode:this.settings.behavior_selectionMode,forceSelection:this.settings.behavior_forceSelection},selector:{}}),"formatting"===e.objectName&&t.push({objectName:"formatting",properties:{fontSize:this.settings.formatting_fontSize,itemPadding:this.settings.formatting_itemPadding},selector:{}}),t},e}();t.Visual=n}},t={};function i(s){var n=t[s];if(void 0!==n)return n.exports;var o=t[s]={exports:{}};return e[s](o,o.exports,i),o.exports}i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};(()=>{var e=s;Object.defineProperty(e,"__esModule",{value:!0});var t=i(848),n=window.powerbi,o={name:"filtroConjugado123456",displayName:"Filtro Conjugado",class:"Visual",apiVersion:"5.11.0",create:function(e){if(t.Visual)return new t.Visual(e);throw"Visual instance not found"},createModalDialog:function(e,t,i){var s=globalThis.dialogRegistry;e in s&&new s[e](t,i)},custom:!0};void 0!==n&&(n.visuals=n.visuals||{},n.visuals.plugins=n.visuals.plugins||{},n.visuals.plugins.filtroConjugado123456=o),e.default=o})(),filtroConjugado123456=s})();